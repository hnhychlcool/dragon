<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="titan.wms.common.dao.mapper.basicInfo.PackingMaterialMapper" >
    <resultMap id="BaseResult" type="PackingMaterialDO" >
        <result column="id" property="id"/>
        <result column="code" property="code"/>
        <result column="name" property="name"/>
        <result column="type" property="type"/>
        <result column="weight" property="weight"/>
        <result column="outer_length" property="outerLength"/>
        <result column="outer_width" property="outerWidth"/>
        <result column="outer_height" property="outerHeight"/>
        <result column="inner_length" property="innerLength"/>
        <result column="inner_width" property="innerWidth"/>
        <result column="inner_height" property="innerHeight"/>
        <result column="min_weight" property="minWeight"/>
        <result column="max_weight" property="maxWeight"/>
        <result column="outer_volume" property="outerVolume"/>
        <result column="inner_volume" property="innerVolume"/>
        <result column="load" property="load"/>
        <result column="is_enable" property="enable"/>
        <result column="remark" property="remark"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>

    <sql id="TableName">
        outbound_packing_material
    </sql>

    <sql id="BaseColumn" >
        `code`,
        `name`,
        `type`,
        `weight`,
        `outer_length`,
        `outer_width`,
        `outer_height`,
        `inner_length`,
        `inner_width`,
        `inner_height`,
        `min_weight`,
        `max_weight`,
        `outer_volume`,
        `inner_volume`,
        `load`,
        `is_enable`,
        `remark`,
        `create_time`,
        `update_time`
    </sql>

    <select id="listByCondition" resultMap="BaseResult">
        SELECT
          `id`,
          `code`,
          `name`,
          `type`,
          `weight`,
          `load`,
          `is_enable`,
          `outer_length`,
          `outer_width`,
          `outer_height`
        FROM
          <include refid="TableName" />
        WHERE 1 = 1
        <if test="condition.code != null and condition.code !=''">
            AND `code` = #{condition.code}
        </if>
        <if test="condition.name != null and condition.name !=''">
            AND `name` = #{condition.name}
        </if>
        <if test="condition.enable != null">
            AND `is_enable` = #{condition.enable}
        </if>
    </select>

    <select id="listCode" resultMap="BaseResult">
        SELECT
          `code`,
          `name`
        FROM
          <include refid="TableName" />
    </select>

    <insert id="insert" parameterType="PackingMaterialDO" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO
          <include refid="TableName" /> (<include refid="BaseColumn" />)
        VALUES(
          #{code},
          #{name},
          #{type},
          #{weight},
          #{outerLength},
          #{outerWidth},
          #{outerHeight},
          #{innerLength},
          #{innerWidth},
          #{innerHeight},
          #{minWeight},
          #{maxWeight},
          #{outerVolume},
          #{innerVolume},
          #{load},
          #{enable},
          #{remark},
          NOW(),
          NOW()
        )
    </insert>

    <update id="update" parameterType="PackingMaterialDO">
        UPDATE
          <include refid="TableName" />
        <set>
            <if test="name != null and name !=''">
                `name` = #{name},
            </if>
            <if test="type != null">
                `type` = #{type},
            </if>
            <if test="weight != null">
                `weight` = #{weight},
            </if>
            <if test="outerLength != null">
                `outer_length` = #{outerLength},
            </if>
            <if test="outerWidth != null">
                `outer_width` = #{outerWidth},
            </if>
            <if test="outerHeight != null">
                `outer_height` = #{outerHeight},
            </if>
            <if test="innerLength != null">
                `inner_length` = #{innerLength},
            </if>
            <if test="innerWidth != null">
                `inner_width` = #{innerWidth},
            </if>
            <if test="innerHeight != null">
                `inner_height` = #{innerHeight},
            </if>
            <if test="minWeight != null">
                `min_weight` = #{minWeight},
            </if>
            <if test="maxWeight != null">
                `max_weight` = #{maxWeight},
            </if>
            <if test="outerVolume != null">
                `outer_volume` = #{outerVolume},
            </if>
            <if test="innerVolume != null">
                `inner_volume` = #{innerVolume},
            </if>
            <if test="load != null">
                `load` = #{load},
            </if>
            <if test="enable != null">
                `is_enable` = #{enable},
            </if>
            <if test="remark != null and remark !=''">
                `remark` = #{remark},
            </if>
            update_time = NOW(),
        </set>
    </update>

    <select id="getById" resultMap="BaseResult">
        SELECT
          id, <include refid="BaseColumn" />
        FROM
          <include refid="TableName"/>
        WHERE
          id = #{id}
    </select>

    <delete id="batchDelete">
        DELETE
        FROM
          <include refid="TableName"/>
        WHERE id IN
        <foreach collection="ids" item="id" index="index" open="(" separator="," close=")">
          #{id}
        </foreach>
    </delete>

    <update id="batchEnable">
        UPDATE
        <include refid="TableName" />
        SET
        is_enable = TRUE
        WHERE id IN
        <foreach collection="ids" item="id" index="index" open="(" separator="," close=")">
          #{id}
        </foreach>
    </update>

    <update id="batchDisable">
        UPDATE
        <include refid="TableName" />
        SET
        is_enable = FALSE
        WHERE id IN
        <foreach collection="ids" item="id" index="index" open="(" separator="," close=")">
          #{id}
        </foreach>
    </update>
</mapper>